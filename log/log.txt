2020-10-28 01:17:35.973 | SUCCESS  | main.API:post:36 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
-
2020-10-28 01:17:36.094 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:17:50.168 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании -
2020-10-28 01:19:15.543 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 01:19:55.442 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 01:21:34.589 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 01:21:37.203 | SUCCESS  | main.API:get:142 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 01:21:39.437 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:28:18.570 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 01:28:21.229 | SUCCESS  | main.API:get:142 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 01:28:24.213 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:28:27.718 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании -
2020-10-28 01:28:29.293 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:28:34.082 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:28:37.733 | ERROR    | main.API:get:50 - Building matching query does not exist.
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x037ACDA8>
    -> <Thread(Thread-7, started daemon 8572)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x037ACC40>
    -> <Thread(Thread-7, started daemon 8572)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-7, started daemon 8572)>
    |    |        |    -> (<socket.socket fd=1536, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-7, started daemon 8572)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>>
    -> <Thread(Thread-7, started daemon 8572)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 60689)
    |    |              -> <socket.socket fd=1536, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04350E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>
    |    |                   |        -> ('192.168.0.4', 60689)
    |    |                   -> <socket.socket fd=1536, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0495DCD0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x05395C10>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0495DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x05395C10>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0495D850>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x05395C10>
    |       -> <function BaseHandler.run at 0x04845E80>
    -> <django.core.servers.basehttp.ServerHandler object at 0x017B2478>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0495D070>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x017B2478>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x017B2478>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x017B2478>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/building/'>
               |    -> <function BaseHandler.get_response at 0x0482C610>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/building/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x0510CCD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x051192C8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510CDA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x051192C8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04F01E98>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/building/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C8E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04F01E98>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04E8E970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04E8E970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04E67D78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04E67D78>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04FBD268>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04FBD268>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04FBD778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04FBD778>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04FD4E80>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C6A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04FD4E80>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04348970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C4F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04348970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04348910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C4A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04348910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0432DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/building/'>
               |    -> <function BaseHandler._get_response at 0x0504B808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0432DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/building/'>
               -> <function BuildingInfo at 0x04E74778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/building/'>,)
           -> <function BuildingInfo at 0x04E74730>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/building/'>
           |    -> <function APIView.dispatch at 0x04E62A90>
           -> <main.API.BuildingInfo object at 0x0181B9B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/building/'>
               -> <bound method BuildingInfo.get of <main.API.BuildingInfo object at 0x0181B9B8>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 48, in get
    building = find_building_and_allow_user(id, user)
               |                            |   -> <DepartamentUser: qweasd>
               |                            -> '6'
               -> <function find_building_and_allow_user at 0x04E01DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 55, in find_building_and_allow_user
    raise ex

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 53, in find_building_and_allow_user
    building = Building.objects.get(id=id)
               |        |              -> '6'
               |        -> <django.db.models.manager.ManagerDescriptor object at 0x047897C0>
               -> <class 'main.models.Building'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'id': '6'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x042C8148>
                   -> <django.db.models.manager.Manager object at 0x04F2B130>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.Building.DoesNotExist'>
          |    -> <class 'main.models.Building'>
          -> <QuerySet []>

main.models.Building.DoesNotExist: Building matching query does not exist.
2020-10-28 01:28:41.413 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:29:04.175 | SUCCESS  | main.API:post:36 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
Pushkina228
2020-10-28 01:29:04.315 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:30:00.170 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:30:28.262 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:30:53.409 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:32:02.410 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:33:12.311 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании Pushkina228
2020-10-28 01:34:44.826 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании Pushkina228
2020-10-28 01:34:44.905 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании Pushkina228
2020-10-28 01:34:53.766 | ERROR    | main.API:get:113 - Cant find school with this INN
Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 41, in find_school_and_allow_user
    school = School.objects.get(INN=INN)
             |      |               -> 'undefined'
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x0477C8E0>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 'undefined'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x042C8148>
                   -> <django.db.models.manager.Manager object at 0x04F0ECA0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.School.DoesNotExist'>
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

main.models.School.DoesNotExist: School matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x037ACDA8>
    -> <Thread(Thread-7, started daemon 8572)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x037ACC40>
    -> <Thread(Thread-7, started daemon 8572)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-7, started daemon 8572)>
    |    |        |    -> (<socket.socket fd=1536, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-7, started daemon 8572)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>>
    -> <Thread(Thread-7, started daemon 8572)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 60689)
    |    |              -> <socket.socket fd=1536, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04350E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>
    |    |                   |        -> ('192.168.0.4', 60689)
    |    |                   -> <socket.socket fd=1536, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0495DCD0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x05395C10>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0495DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x05395C10>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0495D850>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x05395C10>
    |       -> <function BaseHandler.run at 0x04845E80>
    -> <django.core.servers.basehttp.ServerHandler object at 0x017F8190>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0495D070>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x017F8190>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x017F8190>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x017F8190>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler.get_response at 0x0482C610>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x0510CCD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x051192C8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510CDA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x051192C8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04F01E98>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C8E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04F01E98>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04E8E970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04E8E970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04E67D78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04E67D78>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04FBD268>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04FBD268>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04FBD778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04FBD778>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04FD4E80>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C6A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04FD4E80>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04348970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C4F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04348970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04348910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C4A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04348910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0432DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler._get_response at 0x0504B808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0432DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <function SchoolBuildingsInfo at 0x04E746E8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/all_buildings/'>,)
           -> <function SchoolBuildingsInfo at 0x04E746A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/all_buildings/'>
           |    -> <function APIView.dispatch at 0x04E62A90>
           -> <main.API.SchoolBuildingsInfo object at 0x05735DD8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/all_buildings/'>
               -> <bound method SchoolBuildingsInfo.get of <main.API.SchoolBuildingsInfo object at 0x05735DD8>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 111, in get
    school = find_school_and_allow_user(INN, user)
             |                          |    -> <DepartamentUser: qweasd>
             |                          -> 'undefined'
             -> <function find_school_and_allow_user at 0x04E01D60>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 43, in find_school_and_allow_user
    raise BaseException('Cant find school with this INN')

BaseException: Cant find school with this INN
2020-10-28 01:35:52.101 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 01:35:54.299 | SUCCESS  | main.API:get:142 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 01:35:57.610 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:36:09.151 | SUCCESS  | main.API:post:36 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
pushkina228
2020-10-28 01:36:09.263 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:36:44.302 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании pushkina228
2020-10-28 01:36:49.671 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:38:35.793 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 01:38:41.580 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:38:54.333 | SUCCESS  | main.API:post:36 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
pushkina221
2020-10-28 01:38:54.460 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:38:59.310 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании pushkina221
2020-10-28 01:39:03.737 | ERROR    | main.API:get:50 - Building matching query does not exist.
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x037ACDA8>
    -> <Thread(Thread-9, started daemon 14284)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x037ACC40>
    -> <Thread(Thread-9, started daemon 14284)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-9, started daemon 14284)>
    |    |        |    -> (<socket.socket fd=1332, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-9, started daemon 14284)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>>
    -> <Thread(Thread-9, started daemon 14284)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 65328)
    |    |              -> <socket.socket fd=1332, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04350E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>
    |    |                   |        -> ('192.168.0.4', 65328)
    |    |                   -> <socket.socket fd=1332, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0495DCD0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x017E0460>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0495DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x017E0460>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0495D850>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04F3EA48>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x017E0460>
    |       -> <function BaseHandler.run at 0x04845E80>
    -> <django.core.servers.basehttp.ServerHandler object at 0x05681730>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0495D070>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x05681730>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x05681730>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x05681730>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/building/'>
               |    -> <function BaseHandler.get_response at 0x0482C610>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/building/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x0510CCD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x051192C8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510CDA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x051192C8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04F01E98>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/building/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C8E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04F01E98>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04E8E970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04E8E970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04E67D78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04E67D78>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04FBD268>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04FBD268>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04FBD778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04FBD778>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04FD4E80>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C6A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04FD4E80>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04348970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C4F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04348970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04348910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x0510C4A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04348910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0432DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/building/'>
               |    -> <function BaseHandler._get_response at 0x0504B808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0432DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x04390DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/building/'>
               -> <function BuildingInfo at 0x04E74778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/building/'>,)
           -> <function BuildingInfo at 0x04E74730>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/building/'>
           |    -> <function APIView.dispatch at 0x04E62A90>
           -> <main.API.BuildingInfo object at 0x05734EC8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/building/'>
               -> <bound method BuildingInfo.get of <main.API.BuildingInfo object at 0x05734EC8>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 48, in get
    building = find_building_and_allow_user(id, user)
               |                            |   -> <DepartamentUser: qweasd>
               |                            -> '9'
               -> <function find_building_and_allow_user at 0x04E01DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 55, in find_building_and_allow_user
    raise ex

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 53, in find_building_and_allow_user
    building = Building.objects.get(id=id)
               |        |              -> '9'
               |        -> <django.db.models.manager.ManagerDescriptor object at 0x047897C0>
               -> <class 'main.models.Building'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'id': '9'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x042C8148>
                   -> <django.db.models.manager.Manager object at 0x04F2B130>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.Building.DoesNotExist'>
          |    -> <class 'main.models.Building'>
          -> <QuerySet []>

main.models.Building.DoesNotExist: Building matching query does not exist.
2020-10-28 01:39:54.876 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 01:39:57.373 | SUCCESS  | main.API:get:142 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 01:39:59.673 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:40:09.728 | SUCCESS  | main.API:post:36 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
dada321312
2020-10-28 01:40:09.852 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:40:27.519 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании dada321312
2020-10-28 01:40:33.792 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:40:43.387 | SUCCESS  | main.API:post:36 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
dadqdqwwqd321321
2020-10-28 01:40:43.523 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:40:46.278 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании dadqdqwwqd321321
2020-10-28 01:40:48.175 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:41:12.400 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:41:36.958 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:41:46.659 | SUCCESS  | main.API:post:36 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
dasdasdas321321
2020-10-28 01:41:46.768 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:41:48.043 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании dasdasdas321321
2020-10-28 01:42:40.447 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 01:42:45.831 | SUCCESS  | main.API:get:56 - qweasd Получил информацию о здании Pushkina11
2020-10-28 01:42:52.336 | SUCCESS  | main.API:get:124 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 14:13:22.738 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:13:32.486 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:13:34.565 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:13:52.821 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:14:43.374 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:15:10.850 | ERROR    | main.API:post:179 - Cannot assign "'Кировский'": "School.district" must be a "District" instance.
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x0326CDA8>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x0326CC40>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 1628)>
    |    |        |    -> (<socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 1628)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 59077)
    |    |              -> <socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x03DD0E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>
    |    |                   |        -> ('192.168.0.4', 59077)
    |    |                   -> <socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x043DDCD0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x043DDD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x043DD850>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>
    |       -> <function BaseHandler.run at 0x042C5E80>
    -> <django.core.servers.basehttp.ServerHandler object at 0x0698FDF0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x043DD070>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x0698FDF0>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x0698FDF0>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x0698FDF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: POST '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x042AC610>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: POST '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6DF0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04BD4490>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6EC8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04BD4490>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x049183A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: POST '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6A00>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x049183A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x0490E8F8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC69B8>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x0490E8F8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x049F3640>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6970>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x049F3640>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x049F3AD8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6928>
               |           -> <django.middleware.common.CommonMiddleware object at 0x049F3AD8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04A3E2B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6778>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04A3E2B0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04A4EE50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC67C0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04A4EE50>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04A719D0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6610>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04A719D0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x03DC8FD0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC65C8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x03DC8FD0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x03DADB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: POST '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x04AC8928>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x03DADB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: POST '/api/school/'>
               -> <function SchoolInfo at 0x048F4538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: POST '/api/school/'>,)
           -> <function SchoolInfo at 0x048F44F0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: POST '/api/school/'>
           |    -> <function APIView.dispatch at 0x048E2A90>
           -> <main.API.SchoolInfo object at 0x069AD808>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: POST '/api/school/'>
               -> <bound method SchoolInfo.post of <main.API.SchoolInfo object at 0x069AD808>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 175, in post
    school = School.objects.create(**data)
             |      |                -> {'INN': 228228228322, 'shortname': 'Proverka svyazi', 'district': 'Кировский'}
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x041FC8E0>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 228228228322, 'shortname': 'Proverka svyazi', 'district': 'Кировский'}
                   |    |               |      -> ()
                   |    |               -> 'create'
                   |    -> <function BaseManager.get_queryset at 0x03D48148>
                   -> <django.db.models.manager.Manager object at 0x04995D00>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 445, in create
    obj = self.model(**kwargs)
          |    |       -> {'INN': 228228228322, 'shortname': 'Proverka svyazi', 'district': 'Кировский'}
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 483, in __init__
    _setattr(self, field.name, rel_obj)
    |        |     |     |     -> 'Кировский'
    |        |     |     -> 'district'
    |        |     -> <django.db.models.fields.related.ForeignKey: district>
    |        -> <unprintable School object>
    -> <built-in function setattr>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\fields\related_descriptors.py", line 215, in __set__
    raise ValueError(

ValueError: Cannot assign "'Кировский'": "School.district" must be a "District" instance.
2020-10-28 14:16:22.954 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:16:46.804 | ERROR    | main.API:post:179 - Cannot assign "'Кировский'": "School.district" must be a "District" instance.
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x0326CDA8>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x0326CC40>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 1628)>
    |    |        |    -> (<socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 1628)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 59077)
    |    |              -> <socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x03DD0E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>
    |    |                   |        -> ('192.168.0.4', 59077)
    |    |                   -> <socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x043DDCD0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x043DDD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x043DD850>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>
    |       -> <function BaseHandler.run at 0x042C5E80>
    -> <django.core.servers.basehttp.ServerHandler object at 0x054797D8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x043DD070>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x054797D8>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x054797D8>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x054797D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: POST '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x042AC610>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: POST '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6DF0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04BD4490>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6EC8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04BD4490>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x049183A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: POST '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6A00>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x049183A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x0490E8F8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC69B8>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x0490E8F8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x049F3640>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6970>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x049F3640>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x049F3AD8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6928>
               |           -> <django.middleware.common.CommonMiddleware object at 0x049F3AD8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04A3E2B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6778>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04A3E2B0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04A4EE50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC67C0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04A4EE50>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04A719D0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6610>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04A719D0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x03DC8FD0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC65C8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x03DC8FD0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x03DADB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: POST '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x04AC8928>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x03DADB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: POST '/api/school/'>
               -> <function SchoolInfo at 0x048F4538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: POST '/api/school/'>,)
           -> <function SchoolInfo at 0x048F44F0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: POST '/api/school/'>
           |    -> <function APIView.dispatch at 0x048E2A90>
           -> <main.API.SchoolInfo object at 0x00C7D358>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: POST '/api/school/'>
               -> <bound method SchoolInfo.post of <main.API.SchoolInfo object at 0x00C7D358>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 175, in post
    school = School.objects.create(**data)
             |      |                -> {'INN': 'proverka', 'shortname': 'SOS', 'district': 'Кировский'}
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x041FC8E0>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 'proverka', 'shortname': 'SOS', 'district': 'Кировский'}
                   |    |               |      -> ()
                   |    |               -> 'create'
                   |    -> <function BaseManager.get_queryset at 0x03D48148>
                   -> <django.db.models.manager.Manager object at 0x04995D00>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 445, in create
    obj = self.model(**kwargs)
          |    |       -> {'INN': 'proverka', 'shortname': 'SOS', 'district': 'Кировский'}
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 483, in __init__
    _setattr(self, field.name, rel_obj)
    |        |     |     |     -> 'Кировский'
    |        |     |     -> 'district'
    |        |     -> <django.db.models.fields.related.ForeignKey: district>
    |        -> <unprintable School object>
    -> <built-in function setattr>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\fields\related_descriptors.py", line 215, in __set__
    raise ValueError(

ValueError: Cannot assign "'Кировский'": "School.district" must be a "District" instance.
2020-10-28 14:17:12.795 | ERROR    | main.API:post:179 - Cannot assign "'Кировский'": "School.district" must be a "District" instance.
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x0326CDA8>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x0326CC40>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 1628)>
    |    |        |    -> (<socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 1628)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>>
    -> <Thread(Thread-1, started daemon 1628)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 59077)
    |    |              -> <socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x03DD0E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>
    |    |                   |        -> ('192.168.0.4', 59077)
    |    |                   -> <socket.socket fd=1240, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x043DDCD0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x043DDD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x043DD850>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04BB43B8>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04EEF040>
    |       -> <function BaseHandler.run at 0x042C5E80>
    -> <django.core.servers.basehttp.ServerHandler object at 0x00C55B50>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x043DD070>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x00C55B50>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x00C55B50>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x00C55B50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: POST '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x042AC610>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: POST '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6DF0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04BD4490>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6EC8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04BD4490>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x049183A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: POST '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6A00>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x049183A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x0490E8F8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC69B8>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x0490E8F8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x049F3640>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6970>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x049F3640>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x049F3AD8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6928>
               |           -> <django.middleware.common.CommonMiddleware object at 0x049F3AD8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04A3E2B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6778>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04A3E2B0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04A4EE50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC67C0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04A4EE50>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04A719D0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC6610>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04A719D0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x03DC8FD0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04BC65C8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x03DC8FD0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x03DADB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: POST '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x04AC8928>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x03DADB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x03E10DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: POST '/api/school/'>
               -> <function SchoolInfo at 0x048F4538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: POST '/api/school/'>,)
           -> <function SchoolInfo at 0x048F44F0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: POST '/api/school/'>
           |    -> <function APIView.dispatch at 0x048E2A90>
           -> <main.API.SchoolInfo object at 0x00C7D580>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: POST '/api/school/'>
               -> <bound method SchoolInfo.post of <main.API.SchoolInfo object at 0x00C7D580>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 175, in post
    school = School.objects.create(**data)
             |      |                -> {'INN': 5321321321, 'shortname': 'SOS', 'district': 'Кировский'}
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x041FC8E0>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 5321321321, 'shortname': 'SOS', 'district': 'Кировский'}
                   |    |               |      -> ()
                   |    |               -> 'create'
                   |    -> <function BaseManager.get_queryset at 0x03D48148>
                   -> <django.db.models.manager.Manager object at 0x04995D00>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 445, in create
    obj = self.model(**kwargs)
          |    |       -> {'INN': 5321321321, 'shortname': 'SOS', 'district': 'Кировский'}
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 483, in __init__
    _setattr(self, field.name, rel_obj)
    |        |     |     |     -> 'Кировский'
    |        |     |     -> 'district'
    |        |     -> <django.db.models.fields.related.ForeignKey: district>
    |        -> <unprintable School object>
    -> <built-in function setattr>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\fields\related_descriptors.py", line 215, in __set__
    raise ValueError(

ValueError: Cannot assign "'Кировский'": "School.district" must be a "District" instance.
2020-10-28 14:27:15.190 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:27:36.377 | ERROR    | main.API:post:179 - ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "main_school_phone_key"
DETAIL:  Ключ "(phone)=()" уже существует.

Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '228', '', 'Vlados', '', '', '', '')
           |    |      |       -> 'INSERT INTO "main_school" ("district_id", "INN", "name", "shortname", "phone", "address", "edu_type", "form_type") VALUES (%...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x04C28828; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x04EFF2E0>

psycopg2.errors.UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "main_school_phone_key"
DETAIL:  Ключ "(phone)=()" уже существует.



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x02CBCDA8>
    -> <Thread(Thread-1, started daemon 9228)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x02CBCC40>
    -> <Thread(Thread-1, started daemon 9228)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 9228)>
    |    |        |    -> (<socket.socket fd=1592, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 9228)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04513F88>>
    -> <Thread(Thread-1, started daemon 9228)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 61875)
    |    |              -> <socket.socket fd=1592, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x03810E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04513F88>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04513F88>
    |    |                   |        -> ('192.168.0.4', 61875)
    |    |                   -> <socket.socket fd=1592, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04513F88>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x03E1ED18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x048BCC88>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x03E1ED60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x048BCC88>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x03E1E898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04513F88>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x048BCC88>
    |       -> <function BaseHandler.run at 0x03D06EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x048BCE50>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x03E1E0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x048BCE50>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x048BCE50>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x03850DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x048BCE50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: POST '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x03CEE658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03850DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: POST '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x045B3C40>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03850DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x045C2088>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x045B3D18>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x045C2088>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x045C24D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: POST '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x045B3808>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x045C24D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x043C0DD8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x045B37C0>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x043C0DD8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x043FDA48>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x045B3778>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x043FDA48>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04437310>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x045B3730>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04437310>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04327C58>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x045B3580>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04327C58>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04479940>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x045B35C8>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04479940>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x0448EC40>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x045B3418>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x0448EC40>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x03808FD0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: POST '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x045B33D0>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x03808FD0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x037EDB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: POST '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x04500730>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x037EDB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: POST '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x03850DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: POST '/api/school/'>
               -> <function SchoolInfo at 0x0432F538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: POST '/api/school/'>,)
           -> <function SchoolInfo at 0x0432F4F0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: POST '/api/school/'>
           |    -> <function APIView.dispatch at 0x0431FAD8>
           -> <main.API.SchoolInfo object at 0x04EFF838>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: POST '/api/school/'>
               -> <bound method SchoolInfo.post of <main.API.SchoolInfo object at 0x04EFF838>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 175, in post
    school = School.create(**data)
             |      |        -> {'INN': 228, 'shortname': 'Vlados', 'district': 'Кировский'}
             |      -> <classmethod object at 0x03C3C6A0>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\models.py", line 56, in create
    return School.objects.create(**data)
           |      |                -> {'INN': 228, 'shortname': 'Vlados', 'district': <District: Кировский>}
           |      -> <django.db.models.manager.ManagerDescriptor object at 0x03C3C928>
           -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 228, 'shortname': 'Vlados', 'district': <District: Кировский>}
                   |    |               |      -> ()
                   |    |               -> 'create'
                   |    -> <function BaseManager.get_queryset at 0x03788148>
                   -> <django.db.models.manager.Manager object at 0x043D6D18>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 447, in create
    obj.save(force_insert=True, using=self.db)
    |   |                             |    -> <property object at 0x037950F0>
    |   |                             -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...
    |   -> <function Model.save at 0x037DADF0>
    -> <School: Vlados>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 753, in save
    self.save_base(using=using, force_insert=force_insert,
    |    |               |                   -> True
    |    |               -> 'default'
    |    -> <function Model.save_base at 0x037DAE38>
    -> <School: Vlados>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 790, in save_base
    updated = self._save_table(
              |    -> <function Model._save_table at 0x037DAEC8>
              -> <School: Vlados>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 895, in _save_table
    results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
              |    |          |   |              |      |       |                 -> False
              |    |          |   |              |      |       -> [<django.db.models.fields.AutoField: id>]
              |    |          |   |              |      -> [<django.db.models.fields.related.ForeignKey: district>, <django.db.models.fields.CharField: INN>, <django.db.models.fields.C...
              |    |          |   |              -> 'default'
              |    |          |   -> <property object at 0x037A9320>
              |    |          -> <class 'main.models.School'>
              |    -> <function Model._do_insert at 0x037DAF58>
              -> <School: Vlados>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 933, in _do_insert
    return manager._insert(
           |       -> <function BaseManager._get_queryset_methods.<locals>.create_method.<locals>.manager_method at 0x037882B0>
           -> <django.db.models.manager.Manager object at 0x045C2DC0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'fields': [<django.db.models.fields.related.ForeignKey: district>, <django.db.models.fields.CharField: INN>, <django.db.mode...
                   |    |               |      -> ([<School: Vlados>],)
                   |    |               -> '_insert'
                   |    -> <function BaseManager.get_queryset at 0x03788148>
                   -> <django.db.models.manager.Manager object at 0x045C2DC0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 1254, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           |     |                  |                  -> [<django.db.models.fields.AutoField: id>]
           |     |                  -> 'default'
           |     -> <function Query.get_compiler at 0x0373B580>
           -> <django.db.models.sql.subqueries.InsertQuery object at 0x04EFF988>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\compiler.py", line 1397, in execute_sql
    cursor.execute(sql, params)
    |      |       |    -> (4, '228', '', 'Vlados', '', '', '', '')
    |      |       -> 'INSERT INTO "main_school" ("district_id", "INN", "name", "shortname", "phone", "address", "edu_type", "form_type") VALUES (%...
    |      -> <function CursorDebugWrapper.execute at 0x037752F8>
    -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x04EFF2E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 98, in execute
    return super().execute(sql, params)
                           |    -> (4, '228', '', 'Vlados', '', '', '', '')
                           -> 'INSERT INTO "main_school" ("district_id", "INN", "name", "shortname", "phone", "address", "edu_type", "form_type") VALUES (%...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           |    |                      |    |                            |    -> <function CursorWrapper._execute at 0x03775268>
           |    |                      |    |                            -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x04EFF2E0>
           |    |                      |    -> (4, '228', '', 'Vlados', '', '', '', '')
           |    |                      -> 'INSERT INTO "main_school" ("district_id", "INN", "name", "shortname", "phone", "address", "edu_type", "form_type") VALUES (%...
           |    -> <function CursorWrapper._execute_with_wrappers at 0x03775220>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x04EFF2E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           |        |    |       |     -> {'connection': <django.db.backends.postgresql.base.DatabaseWrapper object at 0x048BCD78>, 'cursor': <django.db.backends.postg...
           |        |    |       -> False
           |        |    -> (4, '228', '', 'Vlados', '', '', '', '')
           |        -> 'INSERT INTO "main_school" ("district_id", "INN", "name", "shortname", "phone", "address", "edu_type", "form_type") VALUES (%...
           -> <bound method CursorWrapper._execute of <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x04EFF2E0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '228', '', 'Vlados', '', '', '', '')
           |    |      |       -> 'INSERT INTO "main_school" ("district_id", "INN", "name", "shortname", "phone", "address", "edu_type", "form_type") VALUES (%...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x04C28828; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x04EFF2E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
          |            |              |               -> UniqueViolation('ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "main_school_phone_key"\nDETAIL:  Кл...
          |            |              -> <traceback object at 0x04BE0148>
          |            -> <method 'with_traceback' of 'BaseException' objects>
          -> IntegrityError('ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "main_school_phone_key"\nDETAIL:  Клю...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '228', '', 'Vlados', '', '', '', '')
           |    |      |       -> 'INSERT INTO "main_school" ("district_id", "INN", "name", "shortname", "phone", "address", "edu_type", "form_type") VALUES (%...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x04C28828; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x04EFF2E0>

django.db.utils.IntegrityError: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "main_school_phone_key"
DETAIL:  Ключ "(phone)=()" уже существует.

2020-10-28 14:30:02.441 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:30:10.357 | SUCCESS  | main.API:get:142 - qweasd Получил информацию о Vlados
2020-10-28 14:30:19.150 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:30:30.417 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:30:45.395 | SUCCESS  | main.API:post:182 - qweasd Добавил информацию о VlaDick
2020-10-28 14:30:45.565 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:30:53.413 | SUCCESS  | main.API:get:142 - 228228 Получил информацию о VlaDick
2020-10-28 14:30:57.750 | SUCCESS  | main.API:get:124 - 228228 Получил информацию о зданиях VlaDick
2020-10-28 14:31:16.868 | SUCCESS  | main.API:get:204 - qweasd Получил информацию о всех районах
2020-10-28 14:35:04.230 | SUCCESS  | main.API:get:142 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 14:36:01.412 | SUCCESS  | main.API:get:142 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 14:44:48.456 | SUCCESS  | main.API:get:145 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 14:44:52.815 | SUCCESS  | main.API:get:229 - qweasd Получил информацию о всех районах
2020-10-28 14:44:59.974 | SUCCESS  | main.API:get:145 - qweasd Получил информацию о VlaDick
2020-10-28 14:45:53.347 | SUCCESS  | main.API:get:145 - qweasd Получил информацию о VlaDick
2020-10-28 14:46:35.674 | ERROR    | main.API:delete:204 - too many values to unpack (expected 2)
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x031ECDA8>
    -> <Thread(Thread-1, started daemon 1920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x031ECC40>
    -> <Thread(Thread-1, started daemon 1920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 1920)>
    |    |        |    -> (<socket.socket fd=1336, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 1920)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04A41F10>>
    -> <Thread(Thread-1, started daemon 1920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 49963)
    |    |              -> <socket.socket fd=1336, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x03D40E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04A41F10>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04A41F10>
    |    |                   |        -> ('192.168.0.4', 49963)
    |    |                   -> <socket.socket fd=1336, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04A41F10>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0434DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04BE1A30>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0434DD60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04BE1A30>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0434D898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04A41F10>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04BE1A30>
    |       -> <function BaseHandler.run at 0x04235EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x04A14E20>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0434D0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x04A14E20>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x04A14E20>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x03D80DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x04A14E20>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x0421C658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03D80DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: DELETE '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF2CD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x03D80DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04B00130>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF2DA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04B00130>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04870E68>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF28E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04870E68>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04857C70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF2898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04857C70>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x043558E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF2850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x043558E0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04966F58>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF2808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04966F58>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04966BC8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF2658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04966BC8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x049C3868>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF26A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x049C3868>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x03D38988>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF24F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x03D38988>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x049B0238>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04AF24A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x049B0238>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x03D1DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: DELETE '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x04A36808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x03D1DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x03D80DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: DELETE '/api/school/'>
               -> <function SchoolInfo at 0x0485F5C8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: DELETE '/api/school/'>,)
           -> <function SchoolInfo at 0x0485F580>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: DELETE '/api/school/'>
           |    -> <function APIView.dispatch at 0x0484FAD8>
           -> <main.API.SchoolInfo object at 0x00B49490>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: DELETE '/api/school/'>
               -> <bound method SchoolInfo.delete of <main.API.SchoolInfo object at 0x00B49490>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 197, in delete
    school = School.objects.get(data['INN'])
             |      |           -> {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': '192.168.0.3:8000', 'Connection': 'keep-alive', 'Accept': 'appli...
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x0416C928>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {}
                   |    |               |      -> ('228228',)
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x03CB8148>
                   -> <django.db.models.manager.Manager object at 0x0487EDA8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 418, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
            |    |           |    |                     |    |       |       -> {}
            |    |           |    |                     |    |       -> ('228228',)
            |    |           |    |                     |    -> <function QuerySet.filter at 0x03CC4B20>
            |    |           |    |                     -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...
            |    |           |    -> <property object at 0x03CBBE60>
            |    |           -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...
            |    -> <function QuerySet._chain at 0x03CC5220>
            -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 942, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
           |    |                          |       -> {}
           |    |                          -> ('228228',)
           |    -> <function QuerySet._filter_or_exclude at 0x03CC4BB0>
           -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 962, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, *args, **kwargs)
    |     |                          |        |       -> {}
    |     |                          |        -> ('228228',)
    |     |                          -> False
    |     -> <function QuerySet._filter_or_exclude_inplace at 0x03CC4BF8>
    -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 969, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    |    |      |     |  |       -> {}
    |    |      |     |  -> ('228228',)
    |    |      |     -> <class 'django.db.models.query_utils.Q'>
    |    |      -> <function Query.add_q at 0x03C700B8>
    |    -> <django.db.models.sql.query.Query object at 0x00B49970>
    -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\query.py", line 1358, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                |    |      |         |    -> set()
                |    |      |         -> <django.db.models.sql.query.Query object at 0x00B49970>
                |    |      -> <Q: (AND: 228228)>
                |    -> <function Query._add_q at 0x03C70148>
                -> <django.db.models.sql.query.Query object at 0x00B49970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\query.py", line 1377, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 |    -> <function Query.build_filter at 0x03C70028>
                                 -> <django.db.models.sql.query.Query object at 0x00B49970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\query.py", line 1255, in build_filter
    arg, value = filter_expr
                 -> '228228'

ValueError: too many values to unpack (expected 2)
2020-10-28 14:49:25.700 | ERROR    | main.API:delete:204 - too many values to unpack (expected 2)
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x03C6CDA8>
    -> <Thread(Thread-1, started daemon 13440)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x03C6CC40>
    -> <Thread(Thread-1, started daemon 13440)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 13440)>
    |    |        |    -> (<socket.socket fd=1348, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 13440)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x055785E0>>
    -> <Thread(Thread-1, started daemon 13440)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 51270)
    |    |              -> <socket.socket fd=1348, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x047A0E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x055785E0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x055785E0>
    |    |                   |        -> ('192.168.0.4', 51270)
    |    |                   -> <socket.socket fd=1348, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x055785E0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x04DADD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x055A6520>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x04DADD60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x055A6520>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x04DAD898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x055785E0>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x055A6520>
    |       -> <function BaseHandler.run at 0x04C95EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x05B14A00>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x04DAD0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x05B14A00>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x05B14A00>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x047E0DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x05B14A00>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x04C7C658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x047E0DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: DELETE '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05598DA8>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x047E0DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x055A67C0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05598E80>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x055A67C0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x052D0D78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x055989B8>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x052D0D78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x0531CC28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05598970>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x0531CC28>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x05317868>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05598928>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x05317868>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x053C8F40>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x055988E0>
               |           -> <django.middleware.common.CommonMiddleware object at 0x053C8F40>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x053C8D18>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05598730>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x053C8D18>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05424610>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05598778>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05424610>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x054128F8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x055985C8>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x054128F8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04798FD0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: DELETE '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05598580>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04798FD0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0477DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: DELETE '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x0549D8E0>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0477DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: DELETE '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x047E0DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: DELETE '/api/school/'>
               -> <function SchoolInfo at 0x052BF580>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: DELETE '/api/school/'>,)
           -> <function SchoolInfo at 0x052BF538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: DELETE '/api/school/'>
           |    -> <function APIView.dispatch at 0x052AFAD8>
           -> <main.API.SchoolInfo object at 0x061CED78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: DELETE '/api/school/'>
               -> <bound method SchoolInfo.delete of <main.API.SchoolInfo object at 0x061CED78>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 198, in delete
    school = School.objects.get(data['INN'])
             |      |           -> {'Content-Length': '', 'Content-Type': 'text/plain', 'Host': '192.168.0.3:8000', 'Connection': 'keep-alive', 'Accept': 'appli...
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x04BCC928>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {}
                   |    |               |      -> ('228228',)
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x04718148>
                   -> <django.db.models.manager.Manager object at 0x052E5CB8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 418, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
            |    |           |    |                     |    |       |       -> {}
            |    |           |    |                     |    |       -> ('228228',)
            |    |           |    |                     |    -> <function QuerySet.filter at 0x04724B20>
            |    |           |    |                     -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...
            |    |           |    -> <property object at 0x0471BE38>
            |    |           -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...
            |    -> <function QuerySet._chain at 0x04725220>
            -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 942, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
           |    |                          |       -> {}
           |    |                          -> ('228228',)
           |    -> <function QuerySet._filter_or_exclude at 0x04724BB0>
           -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 962, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, *args, **kwargs)
    |     |                          |        |       -> {}
    |     |                          |        -> ('228228',)
    |     |                          -> False
    |     -> <function QuerySet._filter_or_exclude_inplace at 0x04724BF8>
    -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 969, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    |    |      |     |  |       -> {}
    |    |      |     |  -> ('228228',)
    |    |      |     -> <class 'django.db.models.query_utils.Q'>
    |    |      -> <function Query.add_q at 0x046D00B8>
    |    -> <django.db.models.sql.query.Query object at 0x061CED30>
    -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\query.py", line 1358, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                |    |      |         |    -> set()
                |    |      |         -> <django.db.models.sql.query.Query object at 0x061CED30>
                |    |      -> <Q: (AND: 228228)>
                |    -> <function Query._add_q at 0x046D0148>
                -> <django.db.models.sql.query.Query object at 0x061CED30>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\query.py", line 1377, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 |    -> <function Query.build_filter at 0x046D0028>
                                 -> <django.db.models.sql.query.Query object at 0x061CED30>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\query.py", line 1255, in build_filter
    arg, value = filter_expr
                 -> '228228'

ValueError: too many values to unpack (expected 2)
2020-10-28 14:52:20.197 | SUCCESS  | main.API:get:232 - qweasd Получил информацию о всех районах
2020-10-28 14:53:15.086 | SUCCESS  | main.API:post:184 - qweasd Добавил информацию о Test
2020-10-28 14:53:15.244 | SUCCESS  | main.API:get:229 - qweasd Получил информацию о всех районах
2020-10-28 14:53:27.784 | SUCCESS  | main.API:get:145 - 12345 Получил информацию о Test
2020-10-28 14:53:38.581 | SUCCESS  | main.API:get:229 - qweasd Получил информацию о всех районах
2020-10-28 14:53:46.751 | SUCCESS  | main.API:delete:207 - qweasd Удалил информацию о Test
2020-10-28 14:53:46.898 | SUCCESS  | main.API:get:229 - qweasd Получил информацию о всех районах
2020-10-28 15:54:25.778 | SUCCESS  | main.API:get:229 - qweasd Получил информацию о всех районах
2020-10-28 16:00:35.889 | SUCCESS  | main.API:get:127 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:13:22.930 | SUCCESS  | main.API:get:127 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:18:17.483 | SUCCESS  | main.API:get:127 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:21:47.133 | SUCCESS  | main.API:get:132 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:21:55.246 | SUCCESS  | main.API:get:64 - qweasd Получил информацию о здании -
2020-10-28 16:21:59.969 | SUCCESS  | main.API:get:132 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:22:20.479 | SUCCESS  | main.API:get:132 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:22:22.856 | SUCCESS  | main.API:get:132 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:22:27.408 | SUCCESS  | main.API:get:132 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:22:42.523 | SUCCESS  | main.API:post:40 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
-
2020-10-28 16:22:42.631 | SUCCESS  | main.API:get:132 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:22:50.457 | SUCCESS  | main.API:get:64 - qweasd Получил информацию о здании -
2020-10-28 16:22:53.766 | ERROR    | main.API:get:121 - Cant find school with this INN
Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 41, in find_school_and_allow_user
    school = School.objects.get(INN=INN)
             |      |               -> 'undefined'
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x0475C928>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 'undefined'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x042A8148>
                   -> <django.db.models.manager.Manager object at 0x04EB5CD0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.School.DoesNotExist'>
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

main.models.School.DoesNotExist: School matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x0379CDA8>
    -> <Thread(Thread-1, started daemon 4972)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x0379CC40>
    -> <Thread(Thread-1, started daemon 4972)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 4972)>
    |    |        |    -> (<socket.socket fd=1308, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 4972)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x05004568>>
    -> <Thread(Thread-1, started daemon 4972)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.3', 51300)
    |    |              -> <socket.socket fd=1308, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04330E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05004568>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x05004568>
    |    |                   |        -> ('192.168.0.3', 51300)
    |    |                   -> <socket.socket fd=1308, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05004568>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0493DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x0530B5B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0493DD60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x0530B5B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0493D898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x05004568>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x0530B5B0>
    |       -> <function BaseHandler.run at 0x04825EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x055DF6D0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0493D0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x055DF6D0>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x055DF6D0>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x0430D9A0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x055DF6D0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler.get_response at 0x0480C658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0430D9A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x052F9CD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0430D9A0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x05307328>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x052F9DA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x05307328>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05307988>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x052F98E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05307988>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04F20AD8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x052F9898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04F20AD8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04EEE910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x052F9850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04EEE910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04F53958>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x052F9808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04F53958>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04F53598>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x052F9658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04F53598>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04FB1520>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x052F96A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04FB1520>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04328FD0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x052F94F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04328FD0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04328F88>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x052F94A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04328F88>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04370F10>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler._get_response at 0x05023808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04370F10>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x0430D9A0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <function SchoolBuildingsInfo at 0x04E4F7C0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/all_buildings/'>,)
           -> <function SchoolBuildingsInfo at 0x04E4F778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/all_buildings/'>
           |    -> <function APIView.dispatch at 0x04E3FAD8>
           -> <main.API.SchoolBuildingsInfo object at 0x059213D0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/all_buildings/'>
               -> <bound method SchoolBuildingsInfo.get of <main.API.SchoolBuildingsInfo object at 0x059213D0>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 119, in get
    school = find_school_and_allow_user(INN, user)
             |                          |    -> <DepartamentUser: qweasd>
             |                          -> 'undefined'
             -> <function find_school_and_allow_user at 0x04DE1DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 43, in find_school_and_allow_user
    raise BaseException('Cant find school with this INN')

BaseException: Cant find school with this INN
2020-10-28 16:25:04.796 | SUCCESS  | main.API:get:131 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:25:19.044 | SUCCESS  | main.API:post:40 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
teeqw321321
2020-10-28 16:25:19.151 | SUCCESS  | main.API:get:131 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:26:32.866 | SUCCESS  | main.API:get:147 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:26:37.988 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:26:41.742 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:26:48.519 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:26:51.144 | SUCCESS  | main.API:post:38 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
-
2020-10-28 16:26:51.276 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:26:53.603 | SUCCESS  | main.API:post:38 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
-
2020-10-28 16:26:53.696 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:26:56.707 | SUCCESS  | main.API:post:38 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
-
2020-10-28 16:26:56.797 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:26:58.688 | SUCCESS  | main.API:get:61 - qweasd Получил информацию о здании -
2020-10-28 16:27:01.427 | ERROR    | main.API:get:118 - Cant find school with this INN
Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 41, in find_school_and_allow_user
    school = School.objects.get(INN=INN)
             |      |               -> 'undefined'
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x0446C928>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 'undefined'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x03FB8148>
                   -> <django.db.models.manager.Manager object at 0x04BC6CA0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.School.DoesNotExist'>
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

main.models.School.DoesNotExist: School matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x034CCDA8>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x034CCC40>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    |        |    -> (<socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.3', 51414)
    |    |              -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04040E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |    |                   |        -> ('192.168.0.3', 51414)
    |    |                   -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0464DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0464DD60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0464D898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>
    |       -> <function BaseHandler.run at 0x04535EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x056C9E98>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0464D0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x056C9E98>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x056C9E98>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x056C9E98>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler.get_response at 0x0451C658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6CD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6DA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF68E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF66A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler._get_response at 0x04D36808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <function SchoolBuildingsInfo at 0x04B5F7C0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/all_buildings/'>,)
           -> <function SchoolBuildingsInfo at 0x04B5F778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/all_buildings/'>
           |    -> <function APIView.dispatch at 0x04B4FAD8>
           -> <main.API.SchoolBuildingsInfo object at 0x05717B08>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/all_buildings/'>
               -> <bound method SchoolBuildingsInfo.get of <main.API.SchoolBuildingsInfo object at 0x05717B08>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 116, in get
    school = find_school_and_allow_user(INN, user)
             |                          |    -> <DepartamentUser: qweasd>
             |                          -> 'undefined'
             -> <function find_school_and_allow_user at 0x04AF1DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 43, in find_school_and_allow_user
    raise BaseException('Cant find school with this INN')

BaseException: Cant find school with this INN
2020-10-28 16:27:08.790 | ERROR    | main.API:get:55 - Building matching query does not exist.
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x034CCDA8>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x034CCC40>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    |        |    -> (<socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.3', 51414)
    |    |              -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04040E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |    |                   |        -> ('192.168.0.3', 51414)
    |    |                   -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0464DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0464DD60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0464D898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>
    |       -> <function BaseHandler.run at 0x04535EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x05672FA0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0464D0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x05672FA0>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x05672FA0>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x05672FA0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/building/'>
               |    -> <function BaseHandler.get_response at 0x0451C658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/building/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6CD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6DA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/building/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF68E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF66A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/building/'>
               |    -> <function BaseHandler._get_response at 0x04D36808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/building/'>
               -> <function BuildingInfo at 0x04B5F850>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/building/'>,)
           -> <function BuildingInfo at 0x04B5F808>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/building/'>
           |    -> <function APIView.dispatch at 0x04B4FAD8>
           -> <main.API.BuildingInfo object at 0x04E07058>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/building/'>
               -> <bound method BuildingInfo.get of <main.API.BuildingInfo object at 0x04E07058>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 53, in get
    building = find_building_and_allow_user(id, user)
               |                            |   -> <DepartamentUser: qweasd>
               |                            -> '26'
               -> <function find_building_and_allow_user at 0x04AF1E38>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 55, in find_building_and_allow_user
    raise ex

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 53, in find_building_and_allow_user
    building = Building.objects.get(id=id)
               |        |              -> '26'
               |        -> <django.db.models.manager.ManagerDescriptor object at 0x04479880>
               -> <class 'main.models.Building'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'id': '26'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x03FB8148>
                   -> <django.db.models.manager.Manager object at 0x04BDB130>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.Building.DoesNotExist'>
          |    -> <class 'main.models.Building'>
          -> <QuerySet [<Building: ->, <Building: ->]>

main.models.Building.DoesNotExist: Building matching query does not exist.
2020-10-28 16:27:10.267 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:27:11.624 | SUCCESS  | main.API:get:61 - qweasd Получил информацию о здании -
2020-10-28 16:27:12.698 | ERROR    | main.API:get:118 - Cant find school with this INN
Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 41, in find_school_and_allow_user
    school = School.objects.get(INN=INN)
             |      |               -> 'undefined'
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x0446C928>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 'undefined'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x03FB8148>
                   -> <django.db.models.manager.Manager object at 0x04BC6CA0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.School.DoesNotExist'>
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

main.models.School.DoesNotExist: School matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x034CCDA8>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x034CCC40>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    |        |    -> (<socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.3', 51414)
    |    |              -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04040E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |    |                   |        -> ('192.168.0.3', 51414)
    |    |                   -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0464DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0464DD60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0464D898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>
    |       -> <function BaseHandler.run at 0x04535EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x056C91A8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0464D0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x056C91A8>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x056C91A8>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x056C91A8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler.get_response at 0x0451C658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6CD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6DA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF68E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF66A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler._get_response at 0x04D36808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <function SchoolBuildingsInfo at 0x04B5F7C0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/all_buildings/'>,)
           -> <function SchoolBuildingsInfo at 0x04B5F778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/all_buildings/'>
           |    -> <function APIView.dispatch at 0x04B4FAD8>
           -> <main.API.SchoolBuildingsInfo object at 0x05672FE8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/all_buildings/'>
               -> <bound method SchoolBuildingsInfo.get of <main.API.SchoolBuildingsInfo object at 0x05672FE8>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 116, in get
    school = find_school_and_allow_user(INN, user)
             |                          |    -> <DepartamentUser: qweasd>
             |                          -> 'undefined'
             -> <function find_school_and_allow_user at 0x04AF1DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 43, in find_school_and_allow_user
    raise BaseException('Cant find school with this INN')

BaseException: Cant find school with this INN
2020-10-28 16:27:14.184 | ERROR    | main.API:get:55 - Building matching query does not exist.
Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x034CCDA8>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x034CCC40>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    |        |    -> (<socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.3', 51414)
    |    |              -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04040E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |    |                   |        -> ('192.168.0.3', 51414)
    |    |                   -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0464DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0464DD60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0464D898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>
    |       -> <function BaseHandler.run at 0x04535EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x04DFB3B8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0464D0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x04DFB3B8>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x04DFB3B8>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x04DFB3B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/building/'>
               |    -> <function BaseHandler.get_response at 0x0451C658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/building/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6CD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6DA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/building/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF68E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF66A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/building/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/building/'>
               |    -> <function BaseHandler._get_response at 0x04D36808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/building/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/building/'>
               -> <function BuildingInfo at 0x04B5F850>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/building/'>,)
           -> <function BuildingInfo at 0x04B5F808>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/building/'>
           |    -> <function APIView.dispatch at 0x04B4FAD8>
           -> <main.API.BuildingInfo object at 0x055632E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/building/'>
               -> <bound method BuildingInfo.get of <main.API.BuildingInfo object at 0x055632E0>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 53, in get
    building = find_building_and_allow_user(id, user)
               |                            |   -> <DepartamentUser: qweasd>
               |                            -> '27'
               -> <function find_building_and_allow_user at 0x04AF1E38>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 55, in find_building_and_allow_user
    raise ex

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 53, in find_building_and_allow_user
    building = Building.objects.get(id=id)
               |        |              -> '27'
               |        -> <django.db.models.manager.ManagerDescriptor object at 0x04479880>
               -> <class 'main.models.Building'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'id': '27'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x03FB8148>
                   -> <django.db.models.manager.Manager object at 0x04BDB130>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.Building.DoesNotExist'>
          |    -> <class 'main.models.Building'>
          -> <QuerySet [<Building: ->]>

main.models.Building.DoesNotExist: Building matching query does not exist.
2020-10-28 16:27:14.895 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:27:16.035 | SUCCESS  | main.API:get:61 - qweasd Получил информацию о здании -
2020-10-28 16:27:16.777 | ERROR    | main.API:get:118 - Cant find school with this INN
Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 41, in find_school_and_allow_user
    school = School.objects.get(INN=INN)
             |      |               -> 'undefined'
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x0446C928>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 'undefined'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x03FB8148>
                   -> <django.db.models.manager.Manager object at 0x04BC6CA0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.School.DoesNotExist'>
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

main.models.School.DoesNotExist: School matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x034CCDA8>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x034CCC40>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    |        |    -> (<socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-1, started daemon 2920)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>>
    -> <Thread(Thread-1, started daemon 2920)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.3', 51414)
    |    |              -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x04040E80>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |    |                   |        -> ('192.168.0.3', 51414)
    |    |                   -> <socket.socket fd=1312, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x0464DD18>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x0464DD60>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x0464D898>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x04DD25B0>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x04E033B8>
    |       -> <function BaseHandler.run at 0x04535EC8>
    -> <django.core.servers.basehttp.ServerHandler object at 0x05563D90>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x0464D0B8>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x05563D90>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x05563D90>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x05563D90>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler.get_response at 0x0451C658>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6CD0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6DA8>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x04E03658>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF68E0>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x04BB1C28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6898>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x04BFFBE0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6850>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x04C6A4A8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6808>
               |           -> <django.middleware.common.CommonMiddleware object at 0x04C6AF28>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF6658>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x04C6ADF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF66A0>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x04CBF9B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x04038970>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/all_buildings/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x04DF64A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x04038910>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/all_buildings/'>
               |    -> <function BaseHandler._get_response at 0x04D36808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x0401DB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x04080DF0>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/all_buildings/'>
               -> <function SchoolBuildingsInfo at 0x04B5F7C0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/all_buildings/'>,)
           -> <function SchoolBuildingsInfo at 0x04B5F778>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/all_buildings/'>
           |    -> <function APIView.dispatch at 0x04B4FAD8>
           -> <main.API.SchoolBuildingsInfo object at 0x04EDAB98>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/all_buildings/'>
               -> <bound method SchoolBuildingsInfo.get of <main.API.SchoolBuildingsInfo object at 0x04EDAB98>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 116, in get
    school = find_school_and_allow_user(INN, user)
             |                          |    -> <DepartamentUser: qweasd>
             |                          -> 'undefined'
             -> <function find_school_and_allow_user at 0x04AF1DF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 43, in find_school_and_allow_user
    raise BaseException('Cant find school with this INN')

BaseException: Cant find school with this INN
2020-10-28 16:27:17.766 | SUCCESS  | main.API:post:38 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
-
2020-10-28 16:27:17.893 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:27:19.826 | SUCCESS  | main.API:get:61 - qweasd Получил информацию о здании -
2020-10-28 16:27:21.437 | SUCCESS  | main.API:get:129 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:29:14.155 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:29:25.149 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:29:54.090 | SUCCESS  | main.API:get:146 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:30:02.851 | SUCCESS  | main.API:get:230 - qweasd Получил информацию о всех районах
2020-10-28 16:30:10.204 | SUCCESS  | main.API:get:146 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:30:17.812 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:31:52.109 | SUCCESS  | main.API:get:146 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:31:55.343 | SUCCESS  | main.API:get:146 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:32:01.316 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:32:03.837 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:32:40.464 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:34:42.806 | SUCCESS  | main.API:get:146 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:34:46.365 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:34:46.810 | SUCCESS  | main.API:get:146 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:35:04.099 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:35:15.406 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:35:19.519 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:35:19.858 | SUCCESS  | main.API:get:146 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:35:25.260 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:35:41.324 | SUCCESS  | main.API:post:37 - qweasd Добавил информацию о зданиях МКДОУ д/с № 450
test321312
2020-10-28 16:35:41.502 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:35:41.586 | SUCCESS  | main.API:get:146 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 16:35:48.605 | SUCCESS  | main.API:get:60 - qweasd Получил информацию о здании test321312
2020-10-28 16:35:50.886 | SUCCESS  | main.API:get:128 - qweasd Получил информацию о зданиях МКДОУ д/с № 450
2020-10-28 16:37:16.839 | SUCCESS  | main.API:get:149 - qweasd Получил информацию о МКУ "ОТН и РМТБОУ"
2020-10-28 16:37:20.149 | SUCCESS  | main.API:get:149 - qweasd Получил информацию о МКУ "ОТН и РМТБОУ"
2020-10-28 16:37:22.477 | SUCCESS  | main.API:get:131 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:37:23.730 | SUCCESS  | main.API:get:131 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:37:23.797 | SUCCESS  | main.API:get:149 - qweasd Получил информацию о МКУ "ОТН и РМТБОУ"
2020-10-28 16:37:26.001 | SUCCESS  | main.API:get:131 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:37:27.511 | SUCCESS  | main.API:get:131 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:37:27.580 | SUCCESS  | main.API:get:149 - qweasd Получил информацию о МКУ "ОТН и РМТБОУ"
2020-10-28 16:39:34.533 | SUCCESS  | main.API:get:236 - qweasd Получил информацию о всех районах
2020-10-28 16:39:38.147 | SUCCESS  | main.API:get:152 - qweasd Получил информацию о МКДОУ д/с № 312 "Жемчужинка"
2020-10-28 16:45:13.199 | SUCCESS  | main.API:get:137 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:45:13.266 | SUCCESS  | main.API:get:155 - qweasd Получил информацию о МКУ "ОТН и РМТБОУ"
2020-10-28 16:45:15.083 | SUCCESS  | main.API:get:66 - qweasd Получил информацию о здании qweasd
2020-10-28 16:45:16.953 | SUCCESS  | main.API:get:137 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:54:43.401 | SUCCESS  | main.API:get:133 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:54:43.503 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКУ "ОТН и РМТБОУ"
2020-10-28 16:54:43.915 | SUCCESS  | main.API:get:235 - qweasd Получил информацию о всех районах
2020-10-28 16:54:54.666 | SUCCESS  | main.API:get:133 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:54:54.858 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКУ "ОТН и РМТБОУ"
2020-10-28 16:54:55.312 | SUCCESS  | main.API:get:235 - qweasd Получил информацию о всех районах
2020-10-28 16:55:42.267 | SUCCESS  | main.API:get:133 - qweasd Получил информацию о зданиях МКУ "ОТН и РМТБОУ"
2020-10-28 16:55:42.360 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКУ "ОТН и РМТБОУ"
2020-10-28 16:55:42.777 | SUCCESS  | main.API:get:235 - qweasd Получил информацию о всех районах
2020-10-28 20:28:41.135 | SUCCESS  | main.API:get:235 - qweasd Получил информацию о всех районах
2020-10-28 20:28:43.355 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 20:34:22.401 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 20:55:09.029 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:03:51.408 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:12:26.779 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:13:01.349 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:13:23.596 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:14:52.441 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:18:17.270 | ERROR    | main.API:get:147 - Cant find school with this INN
Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 41, in find_school_and_allow_user
    school = School.objects.get(INN=INN)
             |      |               -> 'undefined'
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x04C66DD8>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': 'undefined'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x047CC388>
                   -> <django.db.models.manager.Manager object at 0x05B66928>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.School.DoesNotExist'>
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

main.models.School.DoesNotExist: School matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x03C3C4F0>
    -> <Thread(Thread-2, started daemon 9644)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x03C3C658>
    -> <Thread(Thread-2, started daemon 9644)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-2, started daemon 9644)>
    |    |        |    -> (<socket.socket fd=1464, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-2, started daemon 9644)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>>
    -> <Thread(Thread-2, started daemon 9644)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 61115)
    |    |              -> <socket.socket fd=1464, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x0484A100>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>
    |    |                   |        -> ('192.168.0.4', 61115)
    |    |                   -> <socket.socket fd=1464, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x04D47DF0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x0488F898>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x04D47E38>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x0488F898>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x04D47970>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x0488F898>
    |       -> <function BaseHandler.run at 0x04D32FA0>
    -> <django.core.servers.basehttp.ServerHandler object at 0x06092808>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x04D47190>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x06092808>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x06092808>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x06092808>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x04D186A0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: GET '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18D60>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x05D268F8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18E38>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x05D268F8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05A8FC70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: GET '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18928>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05A8FC70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x05B78AF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D188E0>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x05B78AF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x05BBB748>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18898>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x05BBB748>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x05BBBB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18850>
               |           -> <django.middleware.common.CommonMiddleware object at 0x05BBBB50>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x05BE92E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D186A0>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x05BE92E0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05BE92B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D186E8>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05BE92B0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x05BCCD78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D184F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x05BCCD78>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x048459B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: GET '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D184A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x048459B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04828538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: GET '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x05C5B808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04828538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: GET '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: GET '/api/school/'>
               -> <function SchoolInfo at 0x05A76730>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: GET '/api/school/'>,)
           -> <function SchoolInfo at 0x05A766E8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: GET '/api/school/'>
           |    -> <function APIView.dispatch at 0x05A62B68>
           -> <main.API.SchoolInfo object at 0x06019A60>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: GET '/api/school/'>
               -> <bound method SchoolInfo.get of <main.API.SchoolInfo object at 0x06019A60>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 145, in get
    school = find_school_and_allow_user(INN, user)
             |                          |    -> <DepartamentUser: qweasd>
             |                          -> 'undefined'
             -> <function find_school_and_allow_user at 0x05A00E80>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 43, in find_school_and_allow_user
    raise BaseException('Cant find school with this INN')

BaseException: Cant find school with this INN
2020-10-28 21:18:32.982 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:18:36.820 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:24:08.805 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:34:29.818 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:35:44.715 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о МКДОУ д/с № 450
2020-10-28 21:41:56.150 | SUCCESS  | main.API:get:235 - qweasd Получил информацию о всех районах
2020-10-28 21:41:59.346 | SUCCESS  | main.API:get:235 - qweasd Получил информацию о всех районах
2020-10-28 21:42:19.002 | SUCCESS  | main.API:post:190 - qweasd Добавил информацию о Школа Владика
2020-10-28 21:42:19.149 | SUCCESS  | main.API:get:235 - qweasd Получил информацию о всех районах
2020-10-28 21:42:25.867 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:43:23.333 | ERROR    | main.API:put:167 - ОШИБКА:  значение не умещается в тип character varying(20)

Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '12345', '', 'Школа Владика', '', '', 'ШИ – школа-интернат', 'МБОУ - муниципальное бюджетное общеобразовательное учрежден...
           |    |      |       -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x01CA51A8; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x01C87A18>

psycopg2.errors.StringDataRightTruncation: ОШИБКА:  значение не умещается в тип character varying(20)



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x03C3C4F0>
    -> <Thread(Thread-5, started daemon 11076)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x03C3C658>
    -> <Thread(Thread-5, started daemon 11076)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-5, started daemon 11076)>
    |    |        |    -> (<socket.socket fd=1496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-5, started daemon 11076)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>>
    -> <Thread(Thread-5, started daemon 11076)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 51964)
    |    |              -> <socket.socket fd=1496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x0484A100>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>
    |    |                   |        -> ('192.168.0.4', 51964)
    |    |                   -> <socket.socket fd=1496, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x04D47DF0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x019FD628>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x04D47E38>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x019FD628>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x04D47970>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x019FD628>
    |       -> <function BaseHandler.run at 0x04D32FA0>
    -> <django.core.servers.basehttp.ServerHandler object at 0x0150B340>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x04D47190>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x0150B340>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x0150B340>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x0150B340>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x04D186A0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18D60>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x05D268F8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18E38>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x05D268F8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05A8FC70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18928>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05A8FC70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x05B78AF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D188E0>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x05B78AF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x05BBB748>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18898>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x05BBB748>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x05BBBB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18850>
               |           -> <django.middleware.common.CommonMiddleware object at 0x05BBBB50>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x05BE92E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D186A0>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x05BE92E0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05BE92B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D186E8>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05BE92B0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x05BCCD78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D184F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x05BCCD78>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x048459B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D184A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x048459B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04828538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x05C5B808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04828538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: PUT '/api/school/'>
               -> <function SchoolInfo at 0x05A76730>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: PUT '/api/school/'>,)
           -> <function SchoolInfo at 0x05A766E8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: PUT '/api/school/'>
           |    -> <function APIView.dispatch at 0x05A62B68>
           -> <main.API.SchoolInfo object at 0x014FF418>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: PUT '/api/school/'>
               -> <bound method SchoolInfo.put of <main.API.SchoolInfo object at 0x014FF418>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 165, in put
    school.update(data)
    |      |      -> {'INN': '12345', 'form_type': 'МБОУ - муниципальное бюджетное общеобразовательное учреждение', 'edu_type': 'ШИ – школа-интерн...
    |      -> <function School.update at 0x04C4BB68>
    -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\models.py", line 50, in update
    self.save()
    |    -> <function Model.save at 0x0480D070>
    -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 753, in save
    self.save_base(using=using, force_insert=force_insert,
    |    |               |                   -> False
    |    |               -> 'default'
    |    -> <function Model.save_base at 0x0480D0B8>
    -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 790, in save_base
    updated = self._save_table(
              |    -> <function Model._save_table at 0x0480D148>
              -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 872, in _save_table
    updated = self._do_update(base_qs, using, pk_val, values, update_fields,
              |    |          |        |      |       |       -> None
              |    |          |        |      |       -> [(<django.db.models.fields.related.ForeignKey: district>, None, 4), (<django.db.models.fields.CharField: INN>, None, '12345')...
              |    |          |        |      -> 5358
              |    |          |        -> 'default'
              |    |          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...
              |    -> <function Model._do_update at 0x0480D190>
              -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 926, in _do_update
    return filtered._update(values) > 0
           |        |       -> [(<django.db.models.fields.related.ForeignKey: district>, None, 4), (<django.db.models.fields.CharField: INN>, None, '12345')...
           |        -> <function QuerySet._update at 0x047C6A00>
           -> <QuerySet [<School: Школа Владика>]>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 803, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
           |     |            |    |               -> 'cursor'
           |     |            |    -> <property object at 0x047C3C80>
           |     |            -> <QuerySet [<School: Школа Владика>]>
           |     -> <function Query.get_compiler at 0x0476E7C0>
           -> <django.db.models.sql.subqueries.UpdateQuery object at 0x01C87550>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\compiler.py", line 1522, in execute_sql
    cursor = super().execute_sql(result_type)
                                 -> 'cursor'

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\compiler.py", line 1156, in execute_sql
    cursor.execute(sql, params)
    |      |       |    -> (4, '12345', '', 'Школа Владика', '', '', 'ШИ – школа-интернат', 'МБОУ - муниципальное бюджетное общеобразовательное учрежден...
    |      |       -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
    |      -> <function CursorDebugWrapper.execute at 0x047A0538>
    -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x01C87A18>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 98, in execute
    return super().execute(sql, params)
                           |    -> (4, '12345', '', 'Школа Владика', '', '', 'ШИ – школа-интернат', 'МБОУ - муниципальное бюджетное общеобразовательное учрежден...
                           -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           |    |                      |    |                            |    -> <function CursorWrapper._execute at 0x047A04A8>
           |    |                      |    |                            -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x01C87A18>
           |    |                      |    -> (4, '12345', '', 'Школа Владика', '', '', 'ШИ – школа-интернат', 'МБОУ - муниципальное бюджетное общеобразовательное учрежден...
           |    |                      -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           |    -> <function CursorWrapper._execute_with_wrappers at 0x047A0460>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x01C87A18>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           |        |    |       |     -> {'connection': <django.db.backends.postgresql.base.DatabaseWrapper object at 0x019FD700>, 'cursor': <django.db.backends.postg...
           |        |    |       -> False
           |        |    -> (4, '12345', '', 'Школа Владика', '', '', 'ШИ – школа-интернат', 'МБОУ - муниципальное бюджетное общеобразовательное учрежден...
           |        -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           -> <bound method CursorWrapper._execute of <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x01C87A18>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '12345', '', 'Школа Владика', '', '', 'ШИ – школа-интернат', 'МБОУ - муниципальное бюджетное общеобразовательное учрежден...
           |    |      |       -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x01CA51A8; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x01C87A18>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
          |            |              |               -> StringDataRightTruncation('ОШИБКА:  значение не умещается в тип character varying(20)\n')
          |            |              -> <traceback object at 0x05FFD308>
          |            -> <method 'with_traceback' of 'BaseException' objects>
          -> DataError('ОШИБКА:  значение не умещается в тип character varying(20)\n')

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '12345', '', 'Школа Владика', '', '', 'ШИ – школа-интернат', 'МБОУ - муниципальное бюджетное общеобразовательное учрежден...
           |    |      |       -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x01CA51A8; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x01C87A18>

django.db.utils.DataError: ОШИБКА:  значение не умещается в тип character varying(20)

2020-10-28 21:48:38.331 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:49:40.539 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:52:34.054 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-28 21:52:58.352 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:53:41.053 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-28 21:53:47.481 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:55:14.255 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:55:40.716 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-28 21:55:45.006 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:56:51.954 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:56:55.693 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:57:14.544 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-28 21:57:14.662 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:58:29.838 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-28 21:58:29.945 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 21:58:36.653 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-28 21:58:36.750 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:08:57.668 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:09:05.256 | ERROR    | main.API:put:161 - Cant find school with this INN
Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 41, in find_school_and_allow_user
    school = School.objects.get(INN=INN)
             |      |               -> '1234567'
             |      -> <django.db.models.manager.ManagerDescriptor object at 0x04C66DD8>
             -> <class 'main.models.School'>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   |    |               |      |       -> {'INN': '1234567'}
                   |    |               |      -> ()
                   |    |               -> 'get'
                   |    -> <function BaseManager.get_queryset at 0x047CC388>
                   -> <django.db.models.manager.Manager object at 0x05B66928>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 429, in get
    raise self.model.DoesNotExist(
          |    |     -> <class 'main.models.School.DoesNotExist'>
          |    -> <class 'main.models.School'>
          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...

main.models.School.DoesNotExist: School matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x03C3C4F0>
    -> <Thread(Thread-8, started daemon 872)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x03C3C658>
    -> <Thread(Thread-8, started daemon 872)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-8, started daemon 872)>
    |    |        |    -> (<socket.socket fd=2256, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-8, started daemon 872)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>>
    -> <Thread(Thread-8, started daemon 872)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 50655)
    |    |              -> <socket.socket fd=2256, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x0484A100>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>
    |    |                   |        -> ('192.168.0.4', 50655)
    |    |                   -> <socket.socket fd=2256, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x04D47DF0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x014B2328>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x04D47E38>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x014B2328>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x04D47970>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x014B2328>
    |       -> <function BaseHandler.run at 0x04D32FA0>
    -> <django.core.servers.basehttp.ServerHandler object at 0x01946BC8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x04D47190>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x01946BC8>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x01946BC8>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x01946BC8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x04D186A0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18D60>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x05D268F8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18E38>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x05D268F8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05A8FC70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18928>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05A8FC70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x05B78AF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D188E0>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x05B78AF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x05BBB748>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18898>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x05BBB748>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x05BBBB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18850>
               |           -> <django.middleware.common.CommonMiddleware object at 0x05BBBB50>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x05BE92E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D186A0>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x05BE92E0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05BE92B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D186E8>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05BE92B0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x05BCCD78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D184F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x05BCCD78>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x048459B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D184A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x048459B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04828538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x05C5B808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04828538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: PUT '/api/school/'>
               -> <function SchoolInfo at 0x05A76730>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: PUT '/api/school/'>,)
           -> <function SchoolInfo at 0x05A766E8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: PUT '/api/school/'>
           |    -> <function APIView.dispatch at 0x05A62B68>
           -> <main.API.SchoolInfo object at 0x01946460>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: PUT '/api/school/'>
               -> <bound method SchoolInfo.put of <main.API.SchoolInfo object at 0x01946460>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 159, in put
    school = find_school_and_allow_user(INN, user)
             |                          |    -> <DepartamentUser: qweasd>
             |                          -> '1234567'
             -> <function find_school_and_allow_user at 0x05A00E80>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\services.py", line 43, in find_school_and_allow_user
    raise BaseException('Cant find school with this INN')

BaseException: Cant find school with this INN
2020-10-28 23:10:33.683 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:11:23.260 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:11:27.946 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:12:42.863 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:12:45.464 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-28 23:12:45.608 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:12:55.113 | ERROR    | main.API:put:167 - ОШИБКА:  значение не умещается в тип character varying(20)

Traceback (most recent call last):

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '12345', 'Школа Всей Руси, или шкалка Владика', 'Школа Владика', '', '', 'СОШ', 'МКОУ - муниципальное казенное общеобразо...
           |    |      |       -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x01C63128; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x06019310>

psycopg2.errors.StringDataRightTruncation: ОШИБКА:  значение не умещается в тип character varying(20)



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    |    -> <function Thread._bootstrap_inner at 0x03C3C4F0>
    -> <Thread(Thread-8, started daemon 872)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 932, in _bootstrap_inner
    self.run()
    |    -> <function Thread.run at 0x03C3C658>
    -> <Thread(Thread-8, started daemon 872)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    |    |        |    |        |    -> {}
    |    |        |    |        -> <Thread(Thread-8, started daemon 872)>
    |    |        |    -> (<socket.socket fd=2256, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), rad...
    |    |        -> <Thread(Thread-8, started daemon 872)>
    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>>
    -> <Thread(Thread-8, started daemon 872)>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 650, in process_request_thread
    self.finish_request(request, client_address)
    |    |              |        -> ('192.168.0.4', 50655)
    |    |              -> <socket.socket fd=2256, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <function BaseServer.finish_request at 0x0484A100>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 360, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>
    |    |                   |        -> ('192.168.0.4', 50655)
    |    |                   -> <socket.socket fd=2256, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.0.3', 8000), radd...
    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>
    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\socketserver.py", line 720, in __init__
    self.handle()
    |    -> <function WSGIRequestHandler.handle at 0x04D47DF0>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x014B2328>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 174, in handle
    self.handle_one_request()
    |    -> <function WSGIRequestHandler.handle_one_request at 0x04D47E38>
    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x014B2328>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\servers\basehttp.py", line 197, in handle_one_request
    handler.run(self.server.get_app())
    |       |   |    |      -> <function WSGIServer.get_app at 0x04D47970>
    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x05169AA8>
    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x014B2328>
    |       -> <function BaseHandler.run at 0x04D32FA0>
    -> <django.core.servers.basehttp.ServerHandler object at 0x05D28148>

  File "C:\Users\Matvey\AppData\Local\Programs\Python\Python38-32\lib\wsgiref\handlers.py", line 137, in run
    self.result = application(self.environ, self.start_response)
    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x04D47190>
    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x05D28148>
    |    |        |           |    -> {'ALLUSERSPROFILE': 'C:\\ProgramData', 'APPDATA': 'C:\\Users\\Matvey\\AppData\\Roaming', 'CLION': 'C:\\Program Files\\JetBrai...
    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x05D28148>
    |    |        -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>
    |    -> None
    -> <django.core.servers.basehttp.ServerHandler object at 0x05D28148>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\wsgi.py", line 133, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function BaseHandler.get_response at 0x04D186A0>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 128, in get_response
    response = self._middleware_chain(request)
               |    |                 -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18D60>
               -> <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.security.SecurityMiddleware object at 0x05D268F8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18E38>
               |           -> <django.middleware.security.SecurityMiddleware object at 0x05D268F8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05A8FC70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\whitenoise\middleware.py", line 59, in __call__
    response = self.get_response(request)
               |    |            -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18928>
               -> <whitenoise.middleware.WhiteNoiseMiddleware object at 0x05A8FC70>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x05B78AF0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D188E0>
               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x05B78AF0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <corsheaders.middleware.CorsMiddleware object at 0x05BBB748>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18898>
               |           -> <corsheaders.middleware.CorsMiddleware object at 0x05BBB748>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.common.CommonMiddleware object at 0x05BBBB50>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D18850>
               |           -> <django.middleware.common.CommonMiddleware object at 0x05BBBB50>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x05BE92E0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D186A0>
               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x05BE92E0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05BE92B0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D186E8>
               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x05BE92B0>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x05BCCD78>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D184F0>
               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x05BCCD78>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x048459B8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\utils\deprecation.py", line 114, in __call__
    response = response or self.get_response(request)
               |           |    |            -> <WSGIRequest: PUT '/api/school/'>
               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x05D184A8>
               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x048459B8>
               -> None

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04828538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\Egida\middleware.py", line 10, in __call__
    response = self._get_response(request)
               |    |             -> <WSGIRequest: PUT '/api/school/'>
               |    -> <function BaseHandler._get_response at 0x05C5B808>
               -> <Egida.middleware.MyAuthenticationMiddleware object at 0x04828538>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               |            -> <WSGIRequest: PUT '/api/school/'>
               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x0488F7D8>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\core\handlers\base.py", line 179, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               |                |         |                -> {}
               |                |         -> ()
               |                -> <WSGIRequest: PUT '/api/school/'>
               -> <function SchoolInfo at 0x05A76730>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           |          |       -> {}
           |          -> (<WSGIRequest: PUT '/api/school/'>,)
           -> <function SchoolInfo at 0x05A766E8>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           |    |        |         |       -> {}
           |    |        |         -> ()
           |    |        -> <WSGIRequest: PUT '/api/school/'>
           |    -> <function APIView.dispatch at 0x05A62B68>
           -> <main.API.SchoolInfo object at 0x05C386D0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               |       |         |       -> {}
               |       |         -> ()
               |       -> <rest_framework.request.Request: PUT '/api/school/'>
               -> <bound method SchoolInfo.put of <main.API.SchoolInfo object at 0x05C386D0>>

> File "C:\Users\Matvey\Desktop\Sites\Egida\main\API.py", line 165, in put
    school.update(data)
    |      |      -> {'INN': '12345', 'form_type': 'МКОУ - муниципальное казенное общеобразовательное учреждение', 'edu_type': 'СОШ', 'shortname':...
    |      -> <function School.update at 0x04C4BB68>
    -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\main\models.py", line 50, in update
    self.save()
    |    -> <function Model.save at 0x0480D070>
    -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 753, in save
    self.save_base(using=using, force_insert=force_insert,
    |    |               |                   -> False
    |    |               -> 'default'
    |    -> <function Model.save_base at 0x0480D0B8>
    -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 790, in save_base
    updated = self._save_table(
              |    -> <function Model._save_table at 0x0480D148>
              -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 872, in _save_table
    updated = self._do_update(base_qs, using, pk_val, values, update_fields,
              |    |          |        |      |       |       -> None
              |    |          |        |      |       -> [(<django.db.models.fields.related.ForeignKey: district>, None, 4), (<django.db.models.fields.CharField: INN>, None, '12345')...
              |    |          |        |      -> 5358
              |    |          |        -> 'default'
              |    |          -> <QuerySet [<School: МАДОУ д/с № 59>, <School: МАОУ Гимназия № 10>, <School: МАОУ СОШ "Диалог">, <School: МАУДО ДООЦ "Бриганти...
              |    -> <function Model._do_update at 0x0480D190>
              -> <School: Школа Владика>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\base.py", line 926, in _do_update
    return filtered._update(values) > 0
           |        |       -> [(<django.db.models.fields.related.ForeignKey: district>, None, 4), (<django.db.models.fields.CharField: INN>, None, '12345')...
           |        -> <function QuerySet._update at 0x047C6A00>
           -> <QuerySet [<School: Школа Владика>]>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\query.py", line 803, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
           |     |            |    |               -> 'cursor'
           |     |            |    -> <property object at 0x047C3C80>
           |     |            -> <QuerySet [<School: Школа Владика>]>
           |     -> <function Query.get_compiler at 0x0476E7C0>
           -> <django.db.models.sql.subqueries.UpdateQuery object at 0x06019CA0>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\compiler.py", line 1522, in execute_sql
    cursor = super().execute_sql(result_type)
                                 -> 'cursor'

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\models\sql\compiler.py", line 1156, in execute_sql
    cursor.execute(sql, params)
    |      |       |    -> (4, '12345', 'Школа Всей Руси, или шкалка Владика', 'Школа Владика', '', '', 'СОШ', 'МКОУ - муниципальное казенное общеобразо...
    |      |       -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
    |      -> <function CursorDebugWrapper.execute at 0x047A0538>
    -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x06019310>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 98, in execute
    return super().execute(sql, params)
                           |    -> (4, '12345', 'Школа Всей Руси, или шкалка Владика', 'Школа Владика', '', '', 'СОШ', 'МКОУ - муниципальное казенное общеобразо...
                           -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           |    |                      |    |                            |    -> <function CursorWrapper._execute at 0x047A04A8>
           |    |                      |    |                            -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x06019310>
           |    |                      |    -> (4, '12345', 'Школа Всей Руси, или шкалка Владика', 'Школа Владика', '', '', 'СОШ', 'МКОУ - муниципальное казенное общеобразо...
           |    |                      -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           |    -> <function CursorWrapper._execute_with_wrappers at 0x047A0460>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x06019310>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           |        |    |       |     -> {'connection': <django.db.backends.postgresql.base.DatabaseWrapper object at 0x014B2250>, 'cursor': <django.db.backends.postg...
           |        |    |       -> False
           |        |    -> (4, '12345', 'Школа Всей Руси, или шкалка Владика', 'Школа Владика', '', '', 'СОШ', 'МКОУ - муниципальное казенное общеобразо...
           |        -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           -> <bound method CursorWrapper._execute of <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x06019310>>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '12345', 'Школа Всей Руси, или шкалка Владика', 'Школа Владика', '', '', 'СОШ', 'МКОУ - муниципальное казенное общеобразо...
           |    |      |       -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x01C63128; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x06019310>

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
          |            |              |               -> StringDataRightTruncation('ОШИБКА:  значение не умещается в тип character varying(20)\n')
          |            |              -> <traceback object at 0x01CCCE68>
          |            -> <method 'with_traceback' of 'BaseException' objects>
          -> DataError('ОШИБКА:  значение не умещается в тип character varying(20)\n')

  File "C:\Users\Matvey\Desktop\Sites\Egida\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           |    |      |       |    -> (4, '12345', 'Школа Всей Руси, или шкалка Владика', 'Школа Владика', '', '', 'СОШ', 'МКОУ - муниципальное казенное общеобразо...
           |    |      |       -> 'UPDATE "main_school" SET "district_id" = %s, "INN" = %s, "name" = %s, "shortname" = %s, "phone" = %s, "address" = %s, "edu_t...
           |    |      -> <method 'execute' of 'psycopg2.extensions.cursor' objects>
           |    -> <cursor object at 0x01C63128; closed: -1>
           -> <django.db.backends.postgresql.base.CursorDebugWrapper object at 0x06019310>

django.db.utils.DataError: ОШИБКА:  значение не умещается в тип character varying(20)

2020-10-28 23:13:39.994 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-28 23:13:40.116 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:14:03.846 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:24:58.517 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:29:53.490 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:29:57.369 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:30:48.848 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:30:56.693 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:31:52.617 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:35:33.064 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:36:21.033 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:37:03.491 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:38:30.458 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:39:06.940 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:40:01.410 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:40:33.322 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:43:04.320 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:44:56.003 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:46:40.123 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:46:58.195 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:48:09.570 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:49:24.226 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:51:20.350 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:57:57.151 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:59:09.039 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-28 23:59:15.271 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:03:48.893 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:04:35.170 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-29 00:04:35.313 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:04:48.578 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:05:25.599 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:06:15.326 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-29 00:06:15.482 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:07:02.414 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:07:11.422 | SUCCESS  | main.API:put:170 - qweasd Обновил информацию о Школа Владика
2020-10-29 00:07:11.524 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:07:49.063 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:07:54.444 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:08:30.465 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:44:49.657 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:44:50.756 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:44:57.483 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:45:54.551 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:45:59.308 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:49:00.536 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:50:04.185 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:50:24.677 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:51:08.862 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:52:03.770 | SUCCESS  | main.API:get:234 - qweasd Получил информацию о всех районах
2020-10-29 00:52:16.952 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:52:20.650 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:52:29.501 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
2020-10-29 00:53:44.741 | SUCCESS  | main.API:get:151 - qweasd Получил информацию о Школа Владика
